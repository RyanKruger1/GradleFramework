plugins {
    id 'java'
    id 'groovy'
}

group 'org.comm.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    compile (group: 'io.rest-assured', name: 'rest-assured', version: '4.3.1')
    compile group: 'com.squareup.okhttp3', name: 'okhttp', version: '4.10.0-RC1'
    testCompile group: 'org.testng', name: 'testng', version: '6.14.3'
    compile (group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.141.5')
    compile (group: 'io.github.bonigarcia', name: 'webdrivermanager', version: '4.2.0')
    compile ('com.google.guava:guava:25.+')

    compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.11.3'
    compile group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'
}

tasks.withType(Test){

    useTestNG(){
        test {
            def groups = System.getProperty('groups', 'smoke')
            useTestNG() {
                includeGroups groups
            }
        }
    }

    testLogging {
        events "failed","passed","skipped"
        showStandardStreams true
    }
}

